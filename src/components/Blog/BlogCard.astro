---
import type { BlogData,Blog } from "../../content/config"
import FormattedDate from "../../components/FormattedDate.astro";
import CardBody from "./CardBody.astro"
import { BlogData } from "../../content/config"

const sizes = {
    lg:"w-full max-w-[900px] mx-auto",
    sm:"max-w-[600px] aspect-video mx-auto even:ml-0 odd:mr-0",
    xs:"max-w-[450px] aspect-video mx-auto"
} as const

type T = keyof typeof sizes;

interface Props extends Pick<BlogData, "heroImage" | "description" | "pubDate" | "title">, Pick<Blog, "slug"> {
    size?: T; 
    horizontal?: boolean;
}

const { slug,heroImage, pubDate,description, title ,size="sm",horizontal = false } = Astro.props;
const t = pubDate.toString()
---
<li class={`bg-secondary/25 group hover:scale-[1.02] rounded-2xl  text-text ${sizes[size]}`} >
    <a href={`/blog/${slug}/`}>
      <img transition:name={"image"+t}  width="900" height="470" class={` w-full rounded-2xl bg-primary/10 group-hover:rounded-3xl group-hover:scale-[1.04] hover:-translate-y-2 `} src={heroImage} alt={title} />
    <CardBody>
        <h2  transition:name={"title"+t} class="text-lg md:text-2xl">{title}</h4>
        <p transition:name={"desc"+t} class="md:text-lg text-text/10">{description}</p>
        <p class="text-secondary"><FormattedDate tName={"date"+t} date={pubDate} /></p>
    </CardBody>
    </a>
</li>
